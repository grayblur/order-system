# 开发环境配置说明

## runtime.lastError 错误解决方案

### 问题现象
控制台输出：`Unchecked runtime.lastError: The message port closed before a response was received.`

### 解决方案

#### 1. 浏览器扩展处理
- **推荐：** 使用无痕模式或禁用扩展
- **Chrome：** 创建单独的开发用户资料
- **Firefox：** 使用隐私浏览模式

#### 2. 开发环境启动方式

**方式一：使用启动脚本（推荐）**
```bash
./start-dev.sh
```

**方式二：分别启动**
```bash
# 启动后端
cd backend && node stable-server.js

# 新终端启动前端
cd frontend && npm run dev
```

#### 3. 浏览器访问建议
- 访问：http://localhost:5173
- 避免使用 http://127.0.0.1:5173（可能导致扩展冲突）
- 开发时使用无痕模式

#### 4. 如果问题持续存在
```bash
# 清除浏览器缓存和本地存储
# 或使用硬刷新：Ctrl+Shift+R (Linux/Windows)

# 重启开发服务器
./start-dev.sh
```

### 技术说明
- 该错误通常来自浏览器扩展，与 Vite 的 HMR WebSocket 连接冲突
- 不会影响应用功能，但可能影响热更新性能
- 配置已优化为减少此类问题

### 推荐开发浏览器配置
1. 创建专门的开发用户资料
2. 仅安装必要的开发扩展（Vue DevTools 等）
3. 禁用广告拦截等可能干扰的扩展